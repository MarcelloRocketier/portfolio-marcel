<section class="projectsSection" id="projects-desktop">
  <div class="projectsWrapper">
    <h1 id="projects-mobile" class="projectsTitle">{{ 'PROJECTS.TITLE' | translate }}</h1>

    <div class="projectTabs">
      <button *ngFor="let project of projects; let i = index" (click)="setActiveProject(i)"
        [class.active]="i === activeProjectIndex">
        {{ project.titleKey | translate }}
      </button>
    </div>
    <div class="responsiveProjectTabs">
      <button *ngFor="let responsiveProject of responsiveProject; let i = index" (click)="setActiveProject(i)"
        [class.active]="i === activeProjectIndex">
        {{ responsiveProject.projectTitleKey | translate }}
      </button>
    </div>
    <div class="projectCard" [ngClass]="{ 'specialBorder': activeProjectIndex === 3 }"
      *ngIf="projects[activeProjectIndex] as project">
      <div class="responsiveContent">
        <h2>{{ project.titleKeyWO | translate }}</h2>
        <p class="responsiveUsedSkills">
          {{ project.usedSkillHeadline | translate }}:
          <span *ngFor="let skill of project.usedSkillNameKeys; let last = last">
            {{ skill | translate }}<span *ngIf="!last">, </span>
          </span>
        </p>
        <p class="responsiveDuration">{{ project.duration | translate }}</p>
        <div class="responsiveProjectImageWrapper">
          <img [src]="project.image" class="responsiveProjectImage" [alt]="project.titleKey | translate" />
        </div>
        <ng-container *ngFor="let headlineKey of project.descriptionHeadlineKeys; let i = index">
          <h3><img class="miniShape" src="assets/img/otherSpecs/miniShape.svg" alt="" /> {{ headlineKey | translate }}
          </h3>
          <p class="responsiveDescription">
            {{ project.descriptionKeys[i] | translate }}
          </p>
        </ng-container>
        <div class="responsiveProjectLinks">
          <a *ngIf="project.link; else noLiveRight" [href]="project.link" target="_blank" class="buttonStyle live">
            Live Test
          </a>
          <ng-template #noLiveRight>
            <span class="buttonStyle placeholder">Kommt bald</span>
          </ng-template>
          <a *ngIf="project.repo; else noRepoRight" [href]="project.repo" target="_blank" class="buttonStyle github">
            GitHub
          </a>
          <ng-template #noRepoRight>
            <span class="buttonStyle placeholder">Noch nicht verfügbar</span>
          </ng-template>
        </div>
      </div>
      <div class="projectContentLeft">
        <div class="projectDescription">
          <ng-container *ngFor="let headlineKey of project.descriptionHeadlineKeys; let i = index">
            <h3>{{ headlineKey | translate }}</h3>
            <p>
              <img class="miniShape" src="assets/img/otherSpecs/miniShape.svg" alt="" />
              {{ project.descriptionKeys[i] | translate }}
            </p>
          </ng-container>
        </div>
      </div>
      <div class="projectContentRight">
        <h3>{{ project.usedSkillHeadline | translate }}</h3>
        <div class="projectSkills">
          <img *ngFor="let skill of project.usedSkillKeys" [src]="skill | translate" alt="Skill Icon"
            class="skillIcon" />
        </div>
        <img [src]="project.image" class="projectImage" [alt]="project.titleKey | translate" loading="lazy" decoding="async" />
        <div class="projectLinks">
          <a *ngIf="project.link; else noLiveRight" [href]="project.link" target="_blank" class="buttonStyle live">
            Live Test
          </a>
          <ng-template #noLiveRight>
            <span class="placeholder-link fullButton">Kommt bald</span>
          </ng-template>
          <a *ngIf="project.repo; else noRepoRight" [href]="project.repo" target="_blank" class="buttonStyle github">
            GitHub
          </a>
          <ng-template #noRepoRight>
            <span class="placeholder-link fullButton">Noch nicht verfügbar</span>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
</section>